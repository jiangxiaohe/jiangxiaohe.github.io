---
layout: post
title: 大数据算法课总结
tags:
- DSA
categories: algorithm
description: 大数据算法课
---

# 数据流算法

1. 流数据模型
2. 流当中的数据抽样
3. 流过滤
4. 流中独立元素的数目统计 
5. 矩估计
6. 窗口内的计数问题
7. 衰减窗口

## FM算法

流估计的[FM算法举例](https://blog.csdn.net/llwszjj/article/details/25629009)：

举例来说，给定序列{e1, e2, e3, e2}，独立元素数目N = 3。假设给定哈希函数H(e)，有：

H(e1) = 2 = 0010，TailZero(H(e1)) = 1

H(e2) = 8 = 1000，TailZero(H(e2)) = 3

H(e3) = 10 = 1010，TailZero(H(e3)) = 1

第1步，将Max初始化为0；

第2步，对于序列中第1项e1，计算TailZero(H(e1)) = 1 > Max，更新Max = 1；

第3步，对于序列中第2项e2，计算TailZero(H(e2)) = 3 > Max，更新Max = 3；

第4步，对于序列中第3项e3，计算TailZero(H(e3)) = 1 ≤ Max，不更新Max；

第5步，对于序列中第4项e2，计算TailZero(H(e2)) = 3 ≤ Max，不更新Max；

第6步，估计独立元素数目为N’ = 2^Max = 2^3 = 8。

在这个简单例子中，实际值N = 3，估计值N’ = 8，误差比较大。此外，估计值只能取2的乘方，精度不够高。

在实际应用中，为了减小误差，提高精度，我们通常采用一系列的哈希函数H1(e), H2(e), H3(e)……，计算一系列的Max值Max1, Max2, Max3……，从而估算一系列的估计值2^Max1, 2^Max2, 2^Max3……，最后进行综合得到最终的估计值。

组合估计的说明：将很多不同哈希函数下获得的独 立元素个数m的估计值进行组合。我们假定 每个哈希函数上得到不同的2M 的值。

## 二阶矩估计的AMS算法

基于任意变量X，二阶矩的估计值为 𝑛×(2×𝑋. 𝑣𝑎𝑙𝑢𝑒 − 1)。

实例:假定流为a,b,c,b,d,a,c,d,a,b,d,c,a,a,b, 流的长度为n=15。由于a出现5次，b出现4次 ，c和d各出现3次，因此二阶矩应为5* +
4* + 3* + 3* = 59。假设维护3个变量𝑋(、𝑋* 和𝑋^。另外，我们假设“随机”选出的3个变 量分别为3、8和13，则可以基于这3个位置 来定义各自对应的变量。

按上例，变量𝑋(得到的二阶矩的估计值为 15×2×3−1 =75，变量𝑋*、𝑋^得到的二 阶矩的估计值为15×2×2−1 =45。平均值 为55，与正确结果59很接近。