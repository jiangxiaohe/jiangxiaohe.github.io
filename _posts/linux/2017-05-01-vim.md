---
layout: post
title: vimtutor
tags:
categories: linux
description: 最佳入门官方教程
---

# vim技巧
vim默认table是8个空格，并且自动锁进，这样复制文件时非常不便。可以修改配置文件`vim ~/.vimrc`，加入或者修改如下：

```
set tabstop=4
set pastetoggle
```

进入官方教程：直接在命令行输入`vimtutor`即可进入。学会的关键在于练习和熟练。

# 基本操作

* 启动vim:`vim filename`
* 移动光标：h,j,k,l
* 回到正常模式：<ESC>
* 不保存退出vim:`:q! <ENTER>`
* 保存退出vim:`:wq <ENTER>`

* 插入字符：i
* 追加字符：A，追加和插入的区别在于一个插入在光标前，追加在光标后
* 替换字符：r

* 复制
	* 单行复制；在命令模式下，将光标移动到将要复制的行处，按“yy”进行复制；
	* 多行复制 在命令模式下，将光标移动到将要复制的首行处，按“nyy”复制n行；其中n为1、2、3……

* 粘贴。在命令模式下，将光标移动到将要粘贴的行处，按“p”进行粘贴

* 删除光标所在的字符：x
* 删除单词：dw
* 删除光标（包括）至行尾的字符：d$
* 删除整行：dd
* 删除两行：2dd

* 返回上一步操作：u
* 撤消恢复命令（与u命令相反）： CTRL+R
* 恢复一整行到初始状态：U

* 输入 dd 以删除该行，该行会被存储至VIM寄存器中
* 在光标处粘贴先前删除的文本（被粘贴到光标之后的一行）：p

---

# 命令与操作码

许多修改文本的命令由两部分组成：操作码和对象。格式如下：`操作码 对象`

* 操作码清单：
	* 删除命令：d
	* 更改命令：c
* 关于对象的小清单：
	* w -到下一个单词头，除开所在的第一个字符。
	* e -到下一个单词尾，包括所在单词的最后一个字符。
	* $- 到行尾，包括了最后一个字符。
	* 0- 到行首，包含空格。
	* ^ -到行首，不含空格。
	* G -到文本最后一行首
	* gg -到文本首行。
* 举例
	- de会删除光标处到单词尾下的字符
	- 在单词首字母处输入ce以更换整个单词
	- c$会更改从光标处到结尾的字符

* 不带操作码按下对象键时，仅会按对象指定的方式 移动光标。
* 可以在对象前键入重复的次数
	* 键入 2w 以使光标向前移动两个单词。
	* 键入 3e 以使光标向前移动到第三个单词尾。
	* 键入 0 移动到行首。
* 使用计数以删除得更多
	* 键入 d2w 以删除2个大写单词。

---

* 文件状态
	* 键入 CTRL-G 以显示你在文件中的位置和状态
	* 键入G 以移动到文件行尾
	* 键入 gg 以移动到文件首
	* 键入你之前所在 的行号，然后键入G，跳转到对应行
* 搜索命令
	* 按 / 并接一个要搜索的短语。
	* 想再次搜索相同的短语，简单的键入 n.
	* 想再次搜索相同的短语并以相反的方向，键入 N.
	* 要反向搜索一个短语，使用?替换/，与上面N的作用相同
	* 要返回之前的位置，键入 CTRL-O（按住 CTRL时，按下字母o).重复几次回到
	更早的那刻。CTRL-I是向前移动。
	* 注： 当搜索到达文件尾时，它会从文件头开始搜索，除非’wrapscan'选项被设置了。
* 括号匹配搜索
	* 首先定位到任一的(,[,{，可以选择或者搜索
	* 键入 % 以找到所匹配的),],or }.
* 替换命令
	* 在一行中以new替换old. :s/old/new
	* 在一行中以new替换所有的old :s/old/new/g
	* 在#到#两行间，以new 替换所有的old :#,#s/old/new/g
	* 替换文件中的所有事件 :%s/old/new/g
	* 每次替换前确认，增加‘c’' :%s/old/new/gc

* 执行外部命令按 `:!` 并加上要执行的外部命令，例如`:!ls<enter>`
* 写文件命令
	* 将该文件另存为：`w FILENAME`.如`:w TEST`这会以TEST的名字保存全部文件（即这个VIM教程）。
	* 要确认之，请键入 `:!ls `以查看你的目录。
	* 删除该文件`:!rm TEST`

> 本教程暂时总结到5.3节
